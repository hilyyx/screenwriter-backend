# ๐ง Screenwriter Backend

ะัะพะตะบั backend-ัะตัะฒะธัะฐ ะดะปั ะณะตะฝะตัะฐัะธะธ ะธะฝัะตัะฐะบัะธะฒะฝัั ะดะธะฐะปะพะณะพะฒ ะผะตะถะดั ะณะปะฐะฒะฝัะผ ะณะตัะพะตะผ ะธ NPC ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ LLM (Large Language Model). ะัะตะดะฝะฐะทะฝะฐัะตะฝ ะดะปั ััะตะฝะฐัะธััะพะฒ ะธ ัะฐะทัะฐะฑะพััะธะบะพะฒ ะธะณั.

---

## ๐ ะะพะทะผะพะถะฝะพััะธ

- ๐ฅ ะัะธะตะผ ะฟะฐัะฐะผะตััะพะฒ ะพ ะผะธัะต, ะฟะตััะพะฝะฐะถะต ะธ NPC ัะตัะตะท API.
- ๐ค ะะตะฝะตัะฐัะธั ััััะบัััั ะดะธะฐะปะพะณะฐ ะฒ ัะพัะผะฐัะต ะพัะธะตะฝัะธัะพะฒะฐะฝะฝะพะณะพ ะณัะฐัะฐ.
- ๐งฉ ะะฐะฑะพัะฐ ั LLM ัะตัะตะท API DeepSeek (ะธัะฟะพะปัะทัั JSON-ะฟัะพะผะฟัั).
- ๐ก๏ธ ะะฐะทะพะฒะฐั ัะธััะตะผะฐ ะฐะฒัะพัะธะทะฐัะธะธ (ัะตะณะธัััะฐัะธั / ะฒัะพะด).
- ๐ ะงะตัะบะพ ะพัะณะฐะฝะธะทะพะฒะฐะฝะฝะฐั ะฐััะธัะตะบัััะฐ ะฟัะพะตะบัะฐ.

---

## ๐ฆ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ
```
screenwriter-backend/
โโโ .env # ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
โโโ .gitignore
โโโ pyproject.toml # ะทะฐะฒะธัะธะผะพััะธ (poetry)
โโโ resources/
โ โโโ prompt.txt # ัะฐะฑะปะพะฝ ะดะปั ะณะตะฝะตัะฐัะธะธ ะฟัะพะผะฟัะพะฒ
โโโ src/
โ โโโ app.py # ะทะฐะฟััะบ FastAPI ะธ ะฟะพะดะบะปััะตะฝะธะต ัะพััะตัะพะฒ
โ โโโ api/
โ โโโ dialogue.py # ัััะบะฐ /generate
โ โโโ auth.py # ัััะบะธ /login, /register
โโโ lib/
โ โโโ loaders.py # ััะธะปะธัั ะดะปั ะทะฐะณััะทะบะธ ัะตััััะพะฒ
โ โโโ llm/
โ โ โโโ client.py # ะพะฑะตััะบะฐ ะฝะฐะด DeepSeek
โ โ โโโ prompt_builder.py # ะณะตะฝะตัะฐัะธั ะฟัะพะผะฟัะฐ
โ โ โโโ parser.py # ะพะฑัะฐะฑะพัะบะฐ ะพัะฒะตัะฐ
โ โโโ services/
โ โ โโโ generator.py # ะพัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ ะณะตะฝะตัะฐัะธะธ
โ โ โโโ auth.py # ะฑะฐะทะพะฒัะน ะบะปะฐัั Auth
โ โโโ models/
โ โโโ user.py # ะผะพะดะตะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั (ะฟะพ ะผะตัะต ะฝะตะพะฑัะพะดะธะผะพััะธ)
โโโ progress/
โโโ PROGRESS.md # ะถััะฝะฐะป ะฟัะพะณัะตััะฐ ะฟะพ ะดะฝัะผ
```
---

## ๐๏ธ ะฃััะฐะฝะพะฒะบะฐ

1. ะะปะพะฝะธััะน ัะตะฟะพะทะธัะพัะธะน:

    ```bash
    git clone https://github.com/hilyyx/screenwriter-backend.git
    cd screenwriter-backend
    ```

2. ะฃััะฐะฝะพะฒะธ ะทะฐะฒะธัะธะผะพััะธ ัะตัะตะท Poetry:

    ```bash
    poetry install
    ```

3. ะกะพะทะดะฐะน ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ ะธ ัะบะฐะถะธ ัะฒะพะธ ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:

    ```env
    OPENAI_API_KEY=your-key-here
    ```

4. ะะฐะฟัััะธ ัะตัะฒะตั ัะฐะทัะฐะฑะพัะบะธ:

    ```bash
    poetry run uvicorn src.app:app --reload
    ```

---

## ๐ก ะญะฝะดะฟะพะธะฝัั

| ะะตัะพะด | URL             | ะะฟะธัะฐะฝะธะต                    |
|-------|------------------|-----------------------------|
| POST  | `/api/generate`  | ะะตะฝะตัะฐัะธั ะดะธะฐะปะพะณะฐ           |
| POST  | `/api/login`     | ะัะพะด                        |
| POST  | `/api/register`  | ะะตะณะธัััะฐัะธั                 |

---

## ๐๏ธ ะัะพะณัะตัั ัะฐะทัะฐะฑะพัะบะธ

ะกะผะพััะธ [progress/PROGRESS.md](progress/09_july.md)
