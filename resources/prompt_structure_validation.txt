Твоя задача - объективно оценить граф диалога для компьютерной игры в виде списка смежности ориентированного ациклического графа на соответствие всем проверкам:
<Проверки>
    Ты **должен** проанализировать полученный граф и оценить его по следующим проверкам:
    1. **Связность истории** — логичность переходов между сценами, выборами и тематиками монологов NPC.
	2. **Свобода выбора** - если NPC задаёт игроку вопрос, тот должен **обязательно иметь самые популярные ответы** (например отказ и соглашение). Для вопросов, где герой может согласиться или отказаться, обязательно должны присутствовать хотя бы 2 таких варианта ответа.
    3. **Разнообразие ветвлений** - есть ли интересные выборы, разные пути, сюжеты (но **учти**, что, если граф небольшой, то в нем почти невозможно добиться сложных ветвлений).
    4. **Логичность развития сюжета** — не приводит ли выбор игрока или фраза NPC к нелогичному переходу.
    5. **Достижимость целей** - может ли игрок реально достичь поставленных целей в этом графе, нет ли тупиков.
    6. **Балансировка ветвей** - Нет ли перегруженных или пустых веток.
	7. **Логичность концовок** - логичность того, как заканчивается диалог. Не должно оставаться открытых и незавершённых историй
    7. **Соответствие ограничениям** - Соотвествует ли дерево заданным ограничениям.
    Для каждой проверки поставь оценку от 1 до 10 (где 1 - полное несоответствие, 10 - полное соответствие)
</Проверки>
<Формат ответа>
    Ответ выводи в следующем формате JSON:
    $json_metrics
	<Описание>
		- *Название проверки 1*
			- rate: *Численное значение оценки для проверки 1 (от 1 до 10)*
			- comment:  "*Комментарий о проверке. Он должен содержать в себе **только то, какие ошибки допущены и что не соответствует проверке 1**. Если всё хорошо, оставь это поле пустым*"
		...
	</Описание>
<Формат структуры>
	<Структура тип=вершина>
		<Типы вершин>
			- Тип C (Choice Nodes) - вершины, в которых у игрока есть несколько вариантов ответа. Ответы в C-вершинах **должны** влиять на сюжет/отношения 
			- Тип M (Monologue Nodes) - вершины, где NPC раскрывает характер/историю через монолог. Игрок **только слушает** (**единственный** вариант ответа: "Продолжить"). Каждый M-узел имеет выходную степень 1. 
			- Тип P (Pendant Nodes) - вершины, в которых заканчивается диалог. 
		</Типы вершин>
		<Формат>
			$json_node_structure
		</Формат>
		<Описание>
			- id: Уникальный числовой идентификатор для текущей вершины
			- info: Тематика монолога NPC в косвенной речи.
			- type: тип вершины
			- mood: Настроение NPC при произнесении монолога в данной вершине из следующего списка,
			- goal_achieve: Информация о том, чего достиг игрок в данной вершине.
				- item: Достижение игроком цели на получение предмета в данной вершине В данном поле должен храниться только id предмета, который получил игрок или -1 в случае, когда игрок не получал никакого предмета. Сопоставь полученный предмет с его id в соответствии со следующим словарём: $items_dict. Если предмета нет в словаре, поставь в данное поле 0.
				- info: Достижение игроком цели на получение информации в данной вершине. В данном поле должна храниться только строка - информация полученная игроком в данной вершине или -1 в случае, когда игрок не получал никакой информации.
			- id: Уникальный числовой идентификатор для следующей вершины
			- mood: Настроение главного героя при произнесении реплики в данном ребре
		</Описание>
	</Структура тип=вершина>
	<Структура тип=граф>
		<Формат>
			$json_structure
		</Формат>
	</Структура тип=граф>
</Формат структуры> 
<Характеристики диалога>
	<Характеристика тип=NPC>
		<Имя>$NPC_name</Имя>
		<Стиль речи>$NPC_talk_style</Стиль речи>
		<Профессия>$NPC_profession</Профессия>
		<Внешний вид>$NPC_look</Внешний вид>
		<Взаимоотношения с игроком>Отношение NPC к игроку -  $NPC_to_hero_relation</Взаимоотношения с игроком>
		<Черты характера>$NPC_traits</Черты характера>
		<Дополнительная информация>$NPC_extra</Дополнительная информация>
	</Характеристика тип=NPC>
	<Характеристика тип=игрок>
		<Имя>$hero_name</Имя>
		<Стиль речи>$hero_talk_style</Стиль речи>
		<Профессия>$hero_profession</Профессия>
		<Внешний вид>$hero_look</Внешний вид>
		<Взаимоотношения с NPC>$hero_to_NPC_relation</Взаимоотношения с NPC>
		<Черты характера>$hero_traits</Черты характера>
		<Дополнительная информация>$hero_extra</Дополнительная информация>
	</Характеристика тип=игрок>	
	<Характеристика тип=окружение> 
		Характеристики окружения, в котором происходят события диалога: $scene
	</Характеристика тип=окружение>
	<Характеристика тип=игровой мир>
		<Жанр>$genre</Жанр>
		<Исторический период>$epoch</Исторический период>
		<Тональность>$tonality</Тональность>
		<Описание>$world_settings</Описание>
	</Характеристика тип=игровой мир>
	<Цели>
		Ты **обязан** проверить, чтобы в конце диалога каждая из следующих целей была достигнута **хотя бы в одной** из P-вершин: $goals
		<Формат>	
			<Тип> Тип события в конце диалога </Тип>
			<Объект> Объект участвующий в происходящем событии </Объект>
			<Условие> Условие, которое **должен** выполнить игрок для достижения цели </Условие>
		</Формат>		
	</Цели>
	<Дополнительная информация>$extra</Дополнительная информация>
</Характеристики диалога>
</Структура графа>
    $structure
</Структура графа>
Сделай оценку **объективной** и конструктивной. **Перепроверь**, выполнил ли ты все требования и инструкции. Теперь оцени граф диалога: