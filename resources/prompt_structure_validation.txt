Твоя задача - объективно оценить граф диалога для компьютерной игры в виде списка смежности ориентированного ациклического графа на соответствие всем проверкам:
<Проверки>
    Ты **должен** проанализировать полученный граф и оценить его по следующим проверкам:
    1. **Связность истории** — логичность переходов между сценами, выборами и тематиками монологов NPC.
    2. **Разнообразие ветвлений** - есть ли интересные выборы, разные пути, сюжеты (но **учти**, что, если граф небольшой, то в нем почти невозможно добиться сложных ветвлений).
    3. **Логичность развития сюжета** — не приводит ли выбор игрока или фраза NPC к нелогичному переходу.
    4. **Достижимость целей** - может ли игрок реально достичь поставленных целей в этом графе, нет ли тупиков.
    5. **Балансировка ветвей** - Нет ли перегруженных или пустых веток.
    6. **Соответствие ограничениям** - Соотвествует ли дерево заданным ограничениям.
    Для каждой проверки поставь оценку от 1 до 10 (где 1 - полное несоответствие, 10 - полное соответствие)
</Проверки>
<Формат ответа>
    Ответ выводи в следующем формате JSON:
    $json_metrics
<Формат структуры>
	<Структура тип=вершина>
		<Типы вершин>
			- Тип C (Choice Nodes) - вершины, в которых у игрока есть несколько вариантов ответа. Ответы в C-вершинах **должны** влиять на сюжет/отношения 
			- Тип M (Monologue Nodes) - вершины, где NPC раскрывает характер/историю через монолог. Игрок **только слушает** (**единственный** вариант ответа: "Продолжить"). Каждый M-узел имеет выходную степень 1. 
			- Тип P (Pendant Nodes) - вершины, в которых заканчивается диалог. 
		</Типы вершин>
		<Формат>
			$json_node_structure
		</Формат>
		<Описание>
			- id: Уникальный числовой идентификатор для текущей вершины
			- info: Тематика монолога NPC в косвенной речи.
			- type: тип вершины
			- mood: Настроение NPC при произнесении монолога в данной вершине из следующего списка,
			- goal_achieve: Достиг ли игрок одной из целей в данной вершине (0 - не достиг, 1 - достиг).
				- id: Уникальный числовой идентификатор для следующей вершины
				- mood: Настроение главного героя при произнесении реплики в данном ребре
		</Описание>
	</Структура тип=вершина>
	<Структура тип=граф>
		<Формат>
			$json_structure
		</Формат>
	</Структура тип=граф>
</Формат структуры> 
<Характеристики диалога>
	<Характеристика тип=NPC>
		<Имя>$NPC_name</Имя>
		<Цели>Ты **обязан** сделать, чтобы во время диалога NPC следовал своим целям: $NPC_goal</Цели>
		<Стиль речи>$NPC_talk_style</Стиль речи>
		<Профессия>$NPC_profession</Профессия>
		<Внешний вид>$NPC_look</Внешний вид>
		<Взаимоотношения с игроком>Отношение NPC к игроку -  $NPC_to_hero_relation</Взаимоотношения с игроком>
		<Черты характера>$NPC_traits</Черты характера>
		<Дополнительная информация>$NPC_extra</Дополнительная информация>
	</Характеристика тип=NPC>
	<Характеристика тип=игрок>
		<Имя>$hero_name</Имя>
		<Цели>Ты **обязан** сделать, чтобы во время диалога игрок следовал своим целям: $hero_goal</Цели>
		<Стиль речи>$hero_talk_style</Стиль речи>
		<Профессия>$hero_profession</Профессия>
		<Внешний вид>$hero_look</Внешний вид>
		<Взаимоотношения с NPC>$hero_to_NPC_relation</Взаимоотношения с NPC>
		<Черты характера>$hero_traits</Черты характера>
		<Дополнительная информация>$hero_extra</Дополнительная информация>
	</Характеристика тип=игрок>	
	<Характеристика тип=окружение> 
		Характеристики окружения, в котором происходят события диалога: $scene
	</Характеристика тип=окружение>
	<Характеристика тип=игровой мир>
		<Жанр>$genre</Жанр>
		<Исторический период>$epoch</Исторический период>
		<Тональность>$tonality</Тональность>
		<Описание>$world_settings</Описание>
	</Характеристика тип=игровой мир>
	<Цели>
		Ты **обязан** проверить, чтобы в конце диалога каждая из следующих целей была достигнута **хотя бы в одной** из P-вершин: $goals
		<Формат>	
			<Тип> Тип события в конце диалога </Тип>
			<Объект> Объект участвующий в происходящем событии </Объект>
			<Условие> Условие, которое **должен** выполнить игрок для достижения цели </Условие>
		</Формат>		
	</Цели>
	<Дополнительная информация>$extra</Дополнительная информация>
</Характеристики диалога>
</Структура графа>
    $structure
</Структура графа>
Сделай оценку **объективной** и конструктивной. **Перепроверь**, выполнил ли ты все требования и инструкции. Теперь оцени граф диалога: